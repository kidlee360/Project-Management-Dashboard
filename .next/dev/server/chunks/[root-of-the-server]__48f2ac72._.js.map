{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Downloads/test/gemini-next-app/lib/db.ts"],"sourcesContent":["import { Pool } from 'pg';\n\nconst pool = new Pool({\n  user: process.env.PGSQL_USER,\n  password: process.env.PGSQL_PASSWORD,\n  host: process.env.PGSQL_HOST,\n  port: process.env.PGSQL_PORT ? parseInt(process.env.PGSQL_PORT, 10) : undefined,\n  database: process.env.PGSQL_DATABASE,\n});\n\nexport default pool;"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,OAAO,IAAI,qGAAI,CAAC;IACpB,MAAM,QAAQ,GAAG,CAAC,UAAU;IAC5B,UAAU,QAAQ,GAAG,CAAC,cAAc;IACpC,MAAM,QAAQ,GAAG,CAAC,UAAU;IAC5B,MAAM,QAAQ,GAAG,CAAC,UAAU,GAAG,SAAS,QAAQ,GAAG,CAAC,UAAU,EAAE,MAAM;IACtE,UAAU,QAAQ,GAAG,CAAC,cAAc;AACtC;uCAEe","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/USER/Downloads/test/gemini-next-app/pages/api/users/%5Bid%5D.ts"],"sourcesContent":["import type { NextApiRequest, NextApiResponse } from 'next';\nimport pool from '@/lib/db';\n\nexport default async function handler(\n  req: NextApiRequest,\n  res: NextApiResponse\n) {\n  const { id } = req.query;\n\n  if (typeof id !== 'string') {\n    return res.status(400).json({ error: 'Invalid user ID' });\n  }\n\n  switch (req.method) {\n    case 'GET':\n      // Get a single user by ID\n      try {\n        const { rows } = await pool.query('SELECT * FROM users WHERE id = $1', [id]);\n        if (rows.length === 0) {\n          return res.status(404).json({ error: 'User not found' });\n        }\n        res.status(200).json(rows[0]);\n      } catch (error) {\n        if (error instanceof Error) {\n          res.status(500).json({ error: error.message });\n        } else {\n          res.status(500).json({ error: 'An unknown error occurred' });\n        }\n      }\n      break;\n\n    case 'PUT':\n      // Update a user by ID\n      try {\n        const { name } = req.body;\n        if (!name) {\n          return res.status(400).json({ error: 'Name is required for update' });\n        }\n        const { rows } = await pool.query(\n          'UPDATE users SET name = $1 WHERE id = $2 RETURNING *',\n          [name, id]\n        );\n        if (rows.length === 0) {\n          return res.status(404).json({ error: 'User not found' });\n        }\n        res.status(200).json(rows[0]);\n      } catch (error) {\n        if (error instanceof Error) {\n          res.status(500).json({ error: error.message });\n        } else {\n          res.status(500).json({ error: 'An unknown error occurred' });\n        }\n      }\n      break;\n\n    case 'DELETE':\n      // Delete a user by ID\n      try {\n        const { rowCount } = await pool.query('DELETE FROM users WHERE id = $1', [id]);\n        if (rowCount === 0) {\n          return res.status(404).json({ error: 'User not found' });\n        }\n        res.status(204).end(); // 204 No Content\n      } catch (error) {\n        if (error instanceof Error) {\n          res.status(500).json({ error: error.message });\n        } else {\n          res.status(500).json({ error: 'An unknown error occurred' });\n        }\n      }\n      break;\n\n    default:\n      res.setHeader('Allow', ['GET', 'PUT', 'DELETE']);\n      res.status(405).end(`Method ${req.method} Not Allowed`);\n  }\n}"],"names":[],"mappings":";;;;AACA;;AAEe,eAAe,QAC5B,GAAmB,EACnB,GAAoB;IAEpB,MAAM,EAAE,EAAE,EAAE,GAAG,IAAI,KAAK;IAExB,IAAI,OAAO,OAAO,UAAU;QAC1B,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO;QAAkB;IACzD;IAEA,OAAQ,IAAI,MAAM;QAChB,KAAK;YACH,0BAA0B;YAC1B,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sIAAI,CAAC,KAAK,CAAC,qCAAqC;oBAAC;iBAAG;gBAC3E,IAAI,KAAK,MAAM,KAAK,GAAG;oBACrB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAAiB;gBACxD;gBACA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;YAC9B,EAAE,OAAO,OAAO;gBACd,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO,MAAM,OAAO;oBAAC;gBAC9C,OAAO;oBACL,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAA4B;gBAC5D;YACF;YACA;QAEF,KAAK;YACH,sBAAsB;YACtB,IAAI;gBACF,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,IAAI;gBACzB,IAAI,CAAC,MAAM;oBACT,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAA8B;gBACrE;gBACA,MAAM,EAAE,IAAI,EAAE,GAAG,MAAM,sIAAI,CAAC,KAAK,CAC/B,wDACA;oBAAC;oBAAM;iBAAG;gBAEZ,IAAI,KAAK,MAAM,KAAK,GAAG;oBACrB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAAiB;gBACxD;gBACA,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;YAC9B,EAAE,OAAO,OAAO;gBACd,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO,MAAM,OAAO;oBAAC;gBAC9C,OAAO;oBACL,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAA4B;gBAC5D;YACF;YACA;QAEF,KAAK;YACH,sBAAsB;YACtB,IAAI;gBACF,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,sIAAI,CAAC,KAAK,CAAC,mCAAmC;oBAAC;iBAAG;gBAC7E,IAAI,aAAa,GAAG;oBAClB,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAAiB;gBACxD;gBACA,IAAI,MAAM,CAAC,KAAK,GAAG,IAAI,iBAAiB;YAC1C,EAAE,OAAO,OAAO;gBACd,IAAI,iBAAiB,OAAO;oBAC1B,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO,MAAM,OAAO;oBAAC;gBAC9C,OAAO;oBACL,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;wBAAE,OAAO;oBAA4B;gBAC5D;YACF;YACA;QAEF;YACE,IAAI,SAAS,CAAC,SAAS;gBAAC;gBAAO;gBAAO;aAAS;YAC/C,IAAI,MAAM,CAAC,KAAK,GAAG,CAAC,CAAC,OAAO,EAAE,IAAI,MAAM,CAAC,YAAY,CAAC;IAC1D;AACF","debugId":null}}]
}